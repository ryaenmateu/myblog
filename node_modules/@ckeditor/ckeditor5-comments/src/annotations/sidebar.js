/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1d09=['sidebar-setcontainer-invalid-element:\x20Container\x20element\x20is\x20not\x20a\x20HTMLElement.','view','set','requires','minHeight','class','resetTop','stopListening','get','bind','updateHeight','max','add','plugins','getIndex','Sidebar','change:_lastItem','content','destroy','clear','locale','context','config','listenTo','change:top','change:activeView','targetRect','top','setContainer','_detachFromContainer','last','render','pluginName','activeView','container','delete','_annotationViewToSidebarItemView','addView','list','items','getSidebarItemView','refresh','_lastItem','customView','remove','element','bottom','unbind','Annotations','length','_attachToContainer'];(function(_0x461782,_0x1d091b){const _0x4c4e22=function(_0x1c3073){while(--_0x1c3073){_0x461782['push'](_0x461782['shift']());}};_0x4c4e22(++_0x1d091b);}(_0x1d09,0x18a));const _0x4c4e=function(_0x461782,_0x1d091b){_0x461782=_0x461782-0x0;let _0x4c4e22=_0x1d09[_0x461782];return _0x4c4e22;};import _0x236d55 from'@ckeditor/ckeditor5-core/src/contextplugin';import _0x4c125e from'./view/sidebarview';import _0x38841d from'./view/sidebaritemview';import _0x130ca6 from'../annotations/annotations';import _0x26a300 from'@ckeditor/ckeditor5-utils/src/dom/rect';import{isElement as _0x3bc283,throttle as _0x1923e2}from'lodash-es';import _0x1b8399 from'@ckeditor/ckeditor5-utils/src/ckeditorerror';export default class b extends _0x236d55{static get[_0x4c4e('0x11')](){return[_0x130ca6];}static get[_0x4c4e('0x2e')](){return _0x4c4e('0x1d');}constructor(_0x598389){super(_0x598389),this[_0x4c4e('0x10')](_0x4c4e('0x5')),this[_0x4c4e('0xf')]=this['M'](),this[_0x4c4e('0x10')](_0x4c4e('0x30'),null),this['H']=0x19,this['T']=new Map(),this[_0x4c4e('0x32')]=new Map();}['init'](){this['q']=this[_0x4c4e('0x23')][_0x4c4e('0x1b')][_0x4c4e('0x16')](_0x4c4e('0xb'));const _0x41f177=this['context'][_0x4c4e('0x24')][_0x4c4e('0x16')]('sidebar.container');_0x41f177&&this['setContainer'](_0x41f177);}[_0x4c4e('0x2a')](_0x246c8e){if(!_0x3bc283(_0x246c8e))throw new _0x1b8399(_0x4c4e('0xe'));this[_0x4c4e('0x30')]=_0x246c8e;}[_0x4c4e('0xd')]({viewClass:_0x7f8fdc='',spaceBetweenItems:_0x30ca32=0x19}={}){const _0x30146c=this[_0x4c4e('0x23')][_0x4c4e('0x1b')][_0x4c4e('0x16')](_0x130ca6);if(!_0x3bc283(this['container']))throw new _0x1b8399('sidebar-attachtocontainer-missing-container:\x20Missing\x20container\x20element.',this);this['container']['appendChild'](this[_0x4c4e('0xf')]['element']),this[_0x4c4e('0xf')]['class']=_0x7f8fdc,this['H']=_0x30ca32,this['listenTo'](_0x30146c,_0x4c4e('0x27'),(_0x2cb273,_0x53dc27,_0x353e19)=>{if(_0x353e19){const _0x5c676e=_0x30146c['getAnnotationView'](_0x353e19),_0x5c6c05=this['getSidebarItemView'](_0x5c676e);_0x5c6c05&&_0x5c6c05[_0x4c4e('0x14')]();}}),this[_0x4c4e('0x25')](_0x30146c['items'],_0x4c4e('0x7'),(_0x149977,_0x2ed315,_0x2c5f64)=>{this['F'](_0x2ed315);const _0x56e840=this['q'][_0x4c4e('0x2')][_0x4c4e('0x16')](_0x2c5f64-0x1),_0x367d4d=this['q']['items'][_0x4c4e('0x16')](_0x2c5f64);_0x56e840&&this['getSidebarItemView'](_0x56e840)[_0x4c4e('0x14')](),_0x367d4d&&this[_0x4c4e('0x3')](_0x367d4d)[_0x4c4e('0x14')](),this['R']();}),_0x30146c[_0x4c4e('0x4')]();}[_0x4c4e('0x2b')](){const _0x218337=this['q'];this[_0x4c4e('0x15')](),this[_0x4c4e('0xf')][_0x4c4e('0x8')][_0x4c4e('0x7')]();for(const _0x7ad558 of _0x218337[_0x4c4e('0x2')])this['F'](_0x7ad558);this['view'][_0x4c4e('0x1')][_0x4c4e('0x21')](),this[_0x4c4e('0xf')][_0x4c4e('0x13')]='',this['_lastItem']=null;}[_0x4c4e('0x0')](_0x3e4804,_0x183cd4){_0x183cd4||(_0x183cd4=_0x3e4804);const _0x3ac0da=this['q'],_0x121409=new _0x38841d(this[_0x4c4e('0x23')]['locale']);this['T'][_0x4c4e('0x10')](_0x121409,_0x3e4804),this['_annotationViewToSidebarItemView']['set'](_0x3e4804,_0x121409),_0x121409['content'][_0x4c4e('0x1a')](_0x183cd4),_0x121409[_0x4c4e('0x17')]('targetTop')['to'](_0x3e4804,_0x4c4e('0x28'),_0x4b4ed7=>{if(_0x3ac0da['getTarget'](_0x3e4804[_0x4c4e('0x6')])instanceof _0x26a300)return _0x4b4ed7['top'];const {top:_0x428b4a}=new _0x26a300(this[_0x4c4e('0xf')]['element']);return _0x4b4ed7[_0x4c4e('0x29')]-_0x428b4a;}),this['listenTo'](_0x121409,_0x4c4e('0x26'),_0x1923e2(()=>{if(!_0x121409[_0x4c4e('0x1f')][_0x4c4e('0xc')])return;const _0x38b4ad=this['j'](_0x121409);if(!_0x38b4ad)return;const _0x5aca93=this['T']['get'](_0x38b4ad);_0x3ac0da[_0x4c4e('0x2f')]===_0x5aca93[_0x4c4e('0x6')]?this['G'](_0x38b4ad,_0x121409):this['J'](_0x121409,_0x38b4ad);},0xa,{'leading':!0x1})),this[_0x4c4e('0x25')](_0x121409,'change:bottom',_0x1923e2(()=>{if(!_0x121409['content'][_0x4c4e('0xc')])return;const _0x50ef09=this['K'](_0x121409);if(!_0x50ef09)return;const _0x10d1ca=this['T'][_0x4c4e('0x16')](_0x50ef09);_0x3ac0da[_0x4c4e('0x2f')]===_0x10d1ca['customView']?this['J'](_0x50ef09,_0x121409):this['G'](_0x121409,_0x50ef09);},0xa,{'leading':!0x1}));const _0x17d3b7=this['j'](_0x121409);if(_0x17d3b7){this['G'](_0x17d3b7,_0x121409)||_0x121409[_0x4c4e('0x14')]();}else _0x121409[_0x4c4e('0x14')]();return this['R'](),_0x121409;}[_0x4c4e('0x3')](_0x5bfa81){return this[_0x4c4e('0x32')][_0x4c4e('0x16')](_0x5bfa81);}[_0x4c4e('0x20')](){this[_0x4c4e('0xf')][_0x4c4e('0x20')]();}['F'](_0x1432f3){const _0x55bf45=this['getSidebarItemView'](_0x1432f3);this[_0x4c4e('0x15')](_0x55bf45),_0x55bf45[_0x4c4e('0x20')](),this['_annotationViewToSidebarItemView'][_0x4c4e('0x31')](_0x1432f3),this['T'][_0x4c4e('0x31')](_0x55bf45);}['M'](){const _0x59979f=new _0x4c125e(this[_0x4c4e('0x23')][_0x4c4e('0x22')]);return _0x59979f[_0x4c4e('0x2d')](),this['on'](_0x4c4e('0x1e'),(_0x18b090,_0x188d3c,_0x59e039,_0x191790)=>{_0x191790&&_0x59979f[_0x4c4e('0xa')](_0x4c4e('0x12')),_0x59e039?_0x59979f[_0x4c4e('0x17')](_0x4c4e('0x12'))['to'](_0x59e039,_0x4c4e('0x9')):_0x59979f[_0x4c4e('0x12')]=null;}),_0x59979f;}['R'](){this[_0x4c4e('0x5')]=this[_0x4c4e('0x3')](this['q'][_0x4c4e('0x2')][_0x4c4e('0x2c')]);}['j'](_0x49b409){const _0x2b8c88=this['q'][_0x4c4e('0x2')],_0xd4b98e=this['T'][_0x4c4e('0x16')](_0x49b409),_0x5a0b1c=_0x2b8c88[_0x4c4e('0x16')](_0x2b8c88[_0x4c4e('0x1c')](_0xd4b98e)-0x1);return this['getSidebarItemView'](_0x5a0b1c);}['K'](_0x4e54cf){const _0x28167e=this['q'][_0x4c4e('0x2')],_0x1f518d=this['T'][_0x4c4e('0x16')](_0x4e54cf),_0x3115e7=_0x28167e['get'](_0x28167e[_0x4c4e('0x1c')](_0x1f518d)+0x1);return this[_0x4c4e('0x3')](_0x3115e7);}['J'](_0x12785f,_0x618d86){_0x12785f[_0x4c4e('0x18')]();const _0x6698b=C(_0x618d86[_0x4c4e('0x9')]+this['H'],_0x12785f[_0x4c4e('0x29')]);return!!_0x6698b&&(_0x618d86[_0x4c4e('0x29')]-=_0x6698b,!0x0);}['G'](_0x2efa7f,_0x3dba6c){_0x2efa7f['updateHeight']();const _0x119f6f=C(_0x2efa7f[_0x4c4e('0x9')]+this['H'],_0x3dba6c[_0x4c4e('0x29')]);return!!_0x119f6f&&(_0x3dba6c['top']+=_0x119f6f,!0x0);}}function C(_0xb78b90,_0x26a5b8){return Math[_0x4c4e('0x19')](_0xb78b90-_0x26a5b8,0x0);}